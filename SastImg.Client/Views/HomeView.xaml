<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="SastImg.Client.Views.HomeView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:SastImg.Client.Views"
    xmlns:api="using:SastImg.Client.Service.API"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Background="Transparent"
    mc:Ignorable="d">

    <Grid Padding="56,40">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <TextBlock
            Grid.Row="0"
            Margin="0,0,0,24"
            Style="{ThemeResource TitleLargeTextBlockStyle}"
            Text="SAST Image" />

        <StackPanel Grid.Row="1" Spacing="16" Margin="0,0,0,24">
            <TextBlock
                Style="{ThemeResource SubtitleTextBlockStyle}"
                Text="Featured Categories" />
            
            <Button Content="View All Categories" Click="ViewAllCategories_Click" />
        </StackPanel>

        <GridView
            Grid.Row="2"
            ItemsSource="{x:Bind ViewModel.FeaturedCategories, Mode=OneWay}"
            IsItemClickEnabled="True"
            ItemClick="CategoryItem_Click"
            SelectionMode="None">
            <GridView.ItemTemplate>
                <DataTemplate x:DataType="api:CategoryDto">
                    <Border
                        Width="240"
                        Height="140"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                        BorderThickness="1"
                        CornerRadius="8">
                        <StackPanel Padding="16" Spacing="8">
                            <TextBlock
                                Style="{ThemeResource SubtitleTextBlockStyle}"
                                Text="{x:Bind Name}"
                                TextWrapping="Wrap" />
                            <TextBlock
                                Style="{ThemeResource CaptionTextBlockStyle}"
                                Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                Text="{x:Bind Description}"
                                TextWrapping="Wrap"
                                MaxLines="2" />
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </GridView.ItemTemplate>
        </GridView>

        <ProgressRing
            Grid.Row="2"
            IsActive="{x:Bind ViewModel.IsLoading, Mode=OneWay}"
            Width="48"
            Height="48"
            HorizontalAlignment="Center"
            VerticalAlignment="Center" />
    </Grid>
</Page>
