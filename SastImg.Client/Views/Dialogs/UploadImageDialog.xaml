<?xml version="1.0" encoding="utf-8" ?>
<ContentDialog
    x:Class="SastImg.Client.Views.Dialogs.UploadImageDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Upload Images"
    PrimaryButtonText="Upload"
    CloseButtonText="Cancel"
    DefaultButton="Primary"
    PrimaryButtonClick="UploadButton_Click"
    mc:Ignorable="d">

    <ScrollViewer MaxHeight="600">
        <StackPanel Spacing="16">
            <!-- File Selection -->
            <StackPanel Spacing="8">
                <TextBlock Text="Select Images" Style="{ThemeResource BodyStrongTextBlockStyle}" />
                <Button Content="Choose Files" Click="ChooseFiles_Click" />
                <TextBlock
                    x:Name="FileCountText"
                    Text="No files selected"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    Style="{ThemeResource CaptionTextBlockStyle}" />
            </StackPanel>

            <!-- Image Title -->
            <StackPanel Spacing="8">
                <TextBlock Text="Title (Optional)" Style="{ThemeResource BodyStrongTextBlockStyle}" />
                <TextBox
                    x:Name="TitleTextBox"
                    PlaceholderText="Enter image title"
                    MaxLength="200" />
            </StackPanel>

            <!-- Tags -->
            <StackPanel Spacing="8">
                <TextBlock Text="Tags (Optional)" Style="{ThemeResource BodyStrongTextBlockStyle}" />
                <TextBlock
                    Text="Enter tag IDs separated by commas (max 10)"
                    Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                    Style="{ThemeResource CaptionTextBlockStyle}" />
                <TextBox
                    x:Name="TagsTextBox"
                    PlaceholderText="e.g., 1, 2, 3" />
            </StackPanel>

            <!-- Upload Progress -->
            <StackPanel x:Name="ProgressPanel" Spacing="8" Visibility="Collapsed">
                <TextBlock Text="Upload Progress" Style="{ThemeResource BodyStrongTextBlockStyle}" />
                <ProgressBar
                    x:Name="UploadProgressBar"
                    Minimum="0"
                    Maximum="100"
                    Value="0" />
                <TextBlock
                    x:Name="ProgressText"
                    Text="0 / 0 uploaded"
                    Style="{ThemeResource CaptionTextBlockStyle}" />
            </StackPanel>

            <!-- Error Message -->
            <InfoBar
                x:Name="ErrorInfoBar"
                Severity="Error"
                IsOpen="False"
                IsClosable="True" />
        </StackPanel>
    </ScrollViewer>
</ContentDialog>
