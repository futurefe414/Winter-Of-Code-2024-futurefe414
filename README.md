# 南邮校科协 C#组 Winter Of Code 2024 基础代码仓库

这是一个基于 WinUI 3 开发的 SAST Image 桌面客户端应用程序。

## 项目概述

本项目是 Winter Of Code 2024 的实践项目,实现了一个功能完整的图片管理系统客户端。用户可以浏览分类和相册、上传和管理图片、编辑个人资料等。

## 已实现的主要功能

### ✅ 用户系统
- **用户注册**: 支持使用注册码创建新账户
- **用户登录/登出**: 完整的身份验证流程
- **用户资料管理**:
  - 查看用户个人资料
  - 修改用户名
  - 修改密码
  - 编辑个人简介
  - 更换头像

### ✅ 图片浏览与管理
- **分类浏览**: 
  - 查看所有图片分类
  - 点击分类进入相册列表
- **相册管理**:
  - 浏览分类下的所有相册
  - 创建新相册
  - 编辑相册信息(标题、描述、访问权限)
- **图片查看**:
  - 查看相册内的所有图片
  - 查看图片详情(标题、标签、点赞数等)
  - 点赞/取消点赞图片
- **图片上传**:
  - 支持多文件选择上传
  - 文件大小验证(最大 10MB)
  - 支持添加标题和标签
  - 显示上传进度

### ✅ 图片编辑
- 编辑图片标题
- 管理图片标签
- 删除图片

### ✅ 导航与界面
- **返回按钮功能**: 左上角返回按钮可正常返回上一页
- **响应式导航栏**: 
  - 主页
  - 分类浏览
  - 设置
  - GitHub 链接
- **用户头像显示**: 右上角可展开的用户信息面板

## 技术特点

- 使用 **MVVM 模式** 进行架构设计
- 采用 **CommunityToolkit.Mvvm** 简化 ViewModel 开发
- 使用 **Refit** 进行 HTTP API 调用
- 完整的错误处理和用户反馈机制
- 支持数据绑定和响应式更新

## 项目结构

目前的项目中有多个文件夹:

- Assets : 一些图标，如应用的 logo。
- Controls : 自定义控件/用户控件。
  - ExpandableUserAvatar : 用于右上角鼠标悬浮在上方可以展开的头像
  - IconButton : 用于右上角头像展开后的卡片中的带有图标的按钮
- Helpers : 帮助类，用于使某些代码更直观
- Services : 应用服务类
  - SastImgAPI : 与后端交互的接口
  - AuthService : 用于管理登录的服务
  - API 文件夹 : 包含具体的接口定义。所有需要的接口，如列出图片，获取图片，上传，修改信息等等，都在这里。
- Themes : 存放控件的资源字典
- Views : 页面和 ViewModels
  - HomeView : 首页，目前是空的
  - SettingsView : 设置，目前是空的
  - ShellPage : 整个应用的框架。左边的导航栏，顶部的标题栏都在这里。其中包含一个 Frame，用于展示其它页面

## 食用方法

Fork 该仓库，新仓库的拥有者可以是你自己的账号，也可以放在 C#组 GitHub 组织下。

> [!NOTE]
> 如果你将 Fork 后的仓库置于**组织账号**下，请按如下格式命名：
> `Winter-Of-Code-2024-你的GitHub用户名`

然后在 Fork 出来的仓库中提交代码即可。

目前创建了两个用户，一个是普通用户`test`，密码为`123456`。一个是管理员`admin`，密码为`123456`。

[Getting Started](https://github.com/NJUPT-SAST-Csharp/Winter-Of-Code-2024/blob/main/Getting%20Started.md)

## 你需要完成什么？

### 主要功能

- 图片浏览
  - 可以列出相册，并且能展示相册内的所有图片
- 上传图片
- 创建相册
- 修改相册和图片的描述，标签，分类

### 一些细小的功能

- 注册账号
- 应用左上角的返回按钮现在不起作用，请编写代码实现返回功能
  - Tips: ShellPage 中的 TitleBar 有 BackButtonClick 事件。Frame 有自带的返回方法
- 右上角用户头像处还不能显示用户的头像，可以通过对 ExpandableUserAvatar 进行扩展实现。
- 查看和修改用户资料
